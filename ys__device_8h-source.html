<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>YardSale: ys_device.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>ys_device.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef YARD_HARDWARE_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define YARD_HARDWARE_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include &lt;fstream&gt;</span>
00005 <span class="preprocessor">#include &lt;string&gt;</span>
00006 
00007 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00008 
00009 <span class="keyword">class </span>YardDevice
00010 {
00011  <span class="keyword">public</span>:
00012 
00013     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> IsConnected() {};
00014     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Test() {};
00015     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Start() {};
00016     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Stop() {};
00017 };
00018 
00019 <span class="keyword">class </span>YardInputDevice: <span class="keyword">public</span> YardDevice
00020 {
00021  <span class="keyword">public</span>:
00022     
00023 };
00024 
00025 <span class="keyword">class </span>YardBarcodeScanner: <span class="keyword">public</span> YardInputDevice
00026 {
00027  <span class="keyword">public</span>:
00028 
00029 };
00030 
00031 <span class="keyword">class </span>YardCardScanner: <span class="keyword">public</span> YardInputDevice
00032 {
00033  <span class="keyword">public</span>:
00034 
00035 };
00036 
00037 <span class="keyword">class </span>YardOutputDevice: <span class="keyword">public</span> YardDevice
00038 {
00039  <span class="keyword">public</span>:
00040      
00041     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Write(<span class="keyword">const</span> string&amp; str) {};    
00042     
00043 };
00044 
00045 <span class="keyword">class </span>YardPrinter: <span class="keyword">public</span> YardOutputDevice
00046 {
00047  <span class="keyword">public</span>:
00048     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Print(<span class="keyword">const</span> string&amp; str) {}
00049     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Write(<span class="keyword">const</span> string&amp; str) { Print(str);}
00050 };
00051 
00052 <span class="keyword">class </span>YardOSPrinter: <span class="keyword">public</span> YardPrinter
00053 {
00054  <span class="keyword">public</span>:
00055     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Print(<span class="keyword">const</span> string&amp; str) {} 
00056 };
00057 
00058 <span class="keyword">class </span>YardCommPrinter: <span class="keyword">public</span> YardPrinter
00059 {
00060  <span class="keyword">public</span>:    
00061     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Print(<span class="keyword">const</span> string&amp; str) {}
00062     <span class="keyword">virtual</span> <span class="keywordtype">void</span> SetPort(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> port) { m_port = port; }
00063  <span class="keyword">protected</span>:
00064     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_port;
00065 };
00066 
00067 <span class="keyword">class </span>StarDP8340: <span class="keyword">public</span> YardCommPrinter
00068 {
00069  <span class="keyword">public</span>:
00070     <span class="keywordtype">bool</span> Print(<span class="keyword">const</span> string&amp; str)
00071     {
00072         ofstream printer(<span class="stringliteral">"/dev/ttyS0"</span>, ios::out | ios::binary);
00073         printer &lt;&lt; str;
00074     }
00075     <span class="keywordtype">void</span> SetRed()
00076     {   
00077         ofstream printer(<span class="stringliteral">"/dev/ttyS0"</span>, ios::out | ios::binary);
00078         printer &lt;&lt; (<span class="keywordtype">char</span>)0x1b &lt;&lt; (<span class="keywordtype">char</span>)0x34;
00079     }
00080     <span class="keywordtype">void</span> SetBlack()
00081     {
00082         ofstream printer(<span class="stringliteral">"/dev/ttyS0"</span>, ios::out | ios::binary);
00083         printer &lt;&lt; (<span class="keywordtype">char</span>)0x1b &lt;&lt; (<span class="keywordtype">char</span>)0x35;
00084 
00085     }    
00086     <span class="keywordtype">void</span> SetUnderline(<span class="keywordtype">bool</span> enabled = <span class="keyword">true</span>)
00087     {
00088         ofstream printer(<span class="stringliteral">"/dev/ttyS0"</span>, ios::out | ios::binary);
00089         <span class="keywordflow">if</span> (enabled)
00090             printer &lt;&lt; (<span class="keywordtype">char</span>)0x1b &lt;&lt; (<span class="keywordtype">char</span>)0x2d &lt;&lt; (<span class="keywordtype">char</span>)0x01;
00091         <span class="keywordflow">else</span>
00092             printer &lt;&lt; (<span class="keywordtype">char</span>)0x1b &lt;&lt; (<span class="keywordtype">char</span>)0x2d &lt;&lt; (<span class="keywordtype">char</span>)0x00;
00093     }
00094     
00095     <span class="keywordtype">void</span> TestImage()
00096     {
00097         ofstream printer(<span class="stringliteral">"/dev/ttyS0"</span>, ios::out | ios::binary);
00098         printer &lt;&lt; (<span class="keywordtype">char</span>)0x1b &lt;&lt; (<span class="keywordtype">char</span>)0x4b &lt;&lt; (<span class="keywordtype">char</span>)0x04 &lt;&lt; (<span class="keywordtype">char</span>)0x00
00099             &lt;&lt; (<span class="keywordtype">char</span>)0x10 &lt;&lt; (<span class="keywordtype">char</span>)0x03 &lt;&lt; (<span class="keywordtype">char</span>)0x04 &lt;&lt; (<span class="keywordtype">char</span>)0x06;
00100     }
00101             
00102     
00103 };
00104 
00105 <span class="keyword">class </span>YardDrawer: <span class="keyword">public</span> YardOutputDevice
00106 {
00107  <span class="keyword">public</span>:
00108      <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Open();
00109      <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Write(<span class="keyword">const</span> string&amp; str) { Open(); }
00110 };
00111 
00112 <span class="keyword">class </span>YardDisplayPole: <span class="keyword">public</span> YardOutputDevice
00113 {
00114  <span class="keyword">public</span>:
00115     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Write(<span class="keyword">const</span> string&amp; str) {}
00116 };
00117     
00118 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sun May 9 23:07:59 2004 for YardSale by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
