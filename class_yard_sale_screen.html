<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>YardSale: YardSaleScreen class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>YardSaleScreen Class Reference</h1>This is the main sale screen.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="ys__sale_8h-source.html">ys_sale.h</a>&gt;</code>
<p>
<a href="class_yard_sale_screen-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_yard_sale_screen.html#a0">YardSaleScreen</a> (wxWindow *parent, wxWindowID id, const wxString &amp;title, const wxPoint &amp;pos=wxDefaultPosition, const wxSize &amp;size=wxDefaultSize, long style=wxDEFAULT_FRAME_STYLE, const wxString &amp;name=wxT("YardSaleScreen"))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is the constructor you will most commonly use.  <a href="#a0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a1" doxytag="YardSaleScreen::~YardSaleScreen" ></a>
virtual&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_yard_sale_screen.html#a1">~YardSaleScreen</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a2" doxytag="YardSaleScreen::OnExitButton" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_yard_sale_screen.html#a2">OnExitButton</a> (wxCommandEvent &amp;event)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exit button event handler. <br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a3" doxytag="YardSaleScreen::OnChange" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnChange</b> (wxTreeEvent &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a4" doxytag="YardSaleScreen::OnRemove" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnRemove</b> (wxCommandEvent &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a5" doxytag="YardSaleScreen::OnCheckout" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnCheckout</b> (wxCommandEvent &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a6" doxytag="YardSaleScreen::OnItem" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnItem</b> (wxCommandEvent &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a7" doxytag="YardSaleScreen::OnIdle" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnIdle</b> (wxIdleEvent &amp;event)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="anchor" name="a8" doxytag="YardSaleScreen::OnHidden" ></a>
void&nbsp;</td><td class="memItemRight" valign=bottom><b>OnHidden</b> (wxCommandEvent &amp;event)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This is the main sale screen. 
<p>
It contains the current transaction information and an interface to add new items to the transaction. From the transaction screen you can access the payment screen.<p>
<div align="center">
<img src="sales.png" alt="sales.png">
</div>
<dl compact><dt><b>Author:</b></dt><dd>Jesse Lovelace </dd></dl>
<dl compact><dt><b>Version:</b></dt><dd>$Revision: 1.14 $$ </dd></dl>

<p>

<p>
Definition at line <a class="el" href="ys__sale_8h-source.html#l00048">48</a> of file <a class="el" href="ys__sale_8h-source.html">ys_sale.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="YardSaleScreen::YardSaleScreen" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> YardSaleScreen::YardSaleScreen </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">wxWindow *&nbsp;</td>
          <td class="mdname" nowrap> <em>parent</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>wxWindowID&nbsp;</td>
          <td class="mdname" nowrap> <em>id</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const wxString &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>title</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const wxPoint &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>pos</em> = wxDefaultPosition, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const wxSize &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>size</em> = wxDefaultSize, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap> <em>style</em> = wxDEFAULT_FRAME_STYLE, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>const wxString &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em> = wxT("YardSaleScreen")</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the constructor you will most commonly use. 
<p>

<p>
<dl compact><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>Could make this static and only do it once per program run...?</dd></dl>

<p>
Definition at line <a class="el" href="ys__sale_8cpp-source.html#l00055">55</a> of file <a class="el" href="ys__sale_8cpp-source.html">ys_sale.cpp</a>.
<p>
<div class="fragment"><pre>00057 :wxDialog(parent, id, title, pos, size, style, name) {
00058     
00059     wxBusyCursor busy();
00060     wxXmlResource::Get()-&gt;Load(<span class="stringliteral">"res/new_sales_wdr.xrc"</span>);
00061     wxPanel * panel = wxXmlResource::Get()-&gt;LoadPanel(<span class="keyword">this</span>, <span class="stringliteral">"Checkout"</span>);
00062     wxSizer * sizer = panel-&gt;GetSizer();
00063     sizer-&gt;SetSizeHints(<span class="keyword">this</span>);
00064     SetSize(wxSize(600,400));
00065     Centre();
00066     
00067     wxButton * hidden = <span class="keyword">new</span> wxButton(panel, HIDDEN_BUTTON, <span class="stringliteral">""</span>, wxDefaultPosition, wxSize(1,1));
00068     hidden-&gt;SetDefault();
00069     
00070     m_list = static_cast&lt;wxListCtrl *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_TRANS"</span>)));
00071     m_book = static_cast&lt;wxNotebook *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_GROUPS"</span>)));
00072    
00073     m_subTotal = static_cast&lt;wxStaticText *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_SUB"</span>)));
00074     m_tax = static_cast&lt;wxStaticText *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_TAX"</span>)));
00075     m_total = static_cast&lt;wxStaticText *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_TOTAL"</span>)));
00076     m_barcode = static_cast&lt;wxTextCtrl *&gt;(FindWindow(XRCID(<span class="stringliteral">"ID_SALES_BARCODE"</span>)));
00077     
00078     wxListItem itemCol;
00079     itemCol.m_mask = wxLIST_MASK_TEXT | wxLIST_MASK_IMAGE;
00080     itemCol.m_text = _T(<span class="stringliteral">"Item"</span>);
00081     itemCol.m_image = -1;
00082     m_list-&gt;InsertColumn(0, itemCol);
00083     itemCol.m_text = _T(<span class="stringliteral">"#"</span>);
00084     m_list-&gt;InsertColumn(1, itemCol);
00085     itemCol.m_text = _T(<span class="stringliteral">"Price"</span>);
00086     m_list-&gt;InsertColumn(2, itemCol);   
00087     
00088     m_list-&gt;SetColumnWidth( 0, wxLIST_AUTOSIZE );
00089     m_list-&gt;SetColumnWidth( 1, wxLIST_AUTOSIZE );
00090     m_list-&gt;SetColumnWidth( 2, wxLIST_AUTOSIZE );
00091     
00092     BuildNotebook(m_book);
00094     vector&lt;YardTaxType&gt; tax;
00095     <span class="keywordflow">try</span> {
00096         tax = wxGetApp().DB().TaxTypeGetAll();
00097     }
00098     <span class="keywordflow">catch</span> (<a class="code" href="class_yard_d_b_exception.html">YardDBException</a>&amp; e)
00099     {
00100         wxLogDebug(wxT(<span class="stringliteral">"Error (tax load): %s, %s"</span>),e.what(), e.GetSQL().c_str());
00101         <span class="keywordflow">return</span>;
00102     }
00103     wxLogDebug(wxT(<span class="stringliteral">"Loading %d tax types..."</span>), tax.size());
00104     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; tax.size(); i++)
00105     {
00106         m_taxCache[tax[i].GetId()] = tax[i].GetPercent();
00107     }
00108     
00109 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ys__sale_8h-source.html">ys_sale.h</a><li><a class="el" href="ys__sale_8cpp-source.html">ys_sale.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Sun May 9 23:08:20 2004 for YardSale by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.5 </small></address>
</body>
</html>
